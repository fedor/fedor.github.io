<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital@0;1&family=IBM+Plex+Sans:ital@0;1&family=IBM+Plex+Serif:ital@0;1&display=swap" rel="stylesheet">
		<link href="style.css" rel="stylesheet">
		<noscript>
			<link href="style.noscript.css" rel="stylesheet">
		</noscript>

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-155295044-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'UA-155295044-1');
		</script>
		<script type="text/javascript">
			const htmlClassList = document.getElementsByTagName("html")[0].classList
			function getPreferredColorScheme() {
				return (
					window.matchMedia("(prefers-color-scheme: dark)").matches
					? 'dark'
					: (window.matchMedia("(prefers-color-scheme: light)")
						? 'light'
						: undefined)
				)
			}

			function setColorScheme(scheme) {
				const preferedScheme = getPreferredColorScheme()
				const htmlDefinedScheme = htmlClassList.contains("dark") ? 'dark' : (htmlClassList.contains("light") ? 'light' : undefined)
				const activeScheme = htmlDefinedScheme || getPreferredColorScheme() || 'light'
				const inverseScheme = scheme === 'light'
					? 'dark'
					: (scheme === 'dark'
						? 'light'
						: htmlDefinedScheme || getPreferredColorScheme() || 'light')

				const colorSchemeToggleElement = document.getElementById("colorSchemeToggle")
				const mobileColorSchemeToggleElement = document.getElementById("mobileColorSchemeToggle")
				if (inverseScheme === 'light') {
					// Set 'dark' scheme
					if ('dark' === preferedScheme) {
						localStorage.removeItem('colorScheme')
					} else {
						localStorage.colorScheme = 'dark'
					}

					htmlClassList.remove('light')
					htmlClassList.add('dark')
					if (colorSchemeToggleElement) {
						colorSchemeToggleElement.innerHTML = 'Light mode' // '[ Light OFF ]'
					}
				} else {
					// Set 'light' scheme
					if ('light' === preferedScheme) {
						localStorage.removeItem('colorScheme')
					} else {
						localStorage.colorScheme = 'light'
					}

					htmlClassList.remove('dark')
					htmlClassList.add('light')
					if (colorSchemeToggleElement) {
						colorSchemeToggleElement.innerHTML = 'Dark mode' // '[ Light ON ]'
					}
				}
			}

			window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function (obj) {
				if (obj.matches) { setColorScheme(localStorage.colorScheme || 'dark') }
			})

			window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', function (obj) {
				if (obj.matches) { setColorScheme(localStorage.colorScheme || 'light') }
			})

			// on page load
			setColorScheme(localStorage.colorScheme || getPreferredColorScheme())
		</script>
		<title>Fedor Korshunov</title>
	</head>
	<body class="
		dark:bg-neutral-800 dark:text-neutral-200
		     bg-neutral-50       text-neutral-700
		
		min-h-screen
		
		flex flex-col
		justify-between

		leading-7
		text-lg"
	>
		<div class="
			grow
			flex flex-col
			  md:flex-row"
		>
			<div
				id="sidebar"
				class="
					mt-8 mx-8 
					md:mr-0
					md:min-w-max"
			>
				<div class="sticky top-8">
					<div class="flex justify-between">
						<a class="font-bold dark:text-neutral-200 text-neutral-700" href="index.html">
							Fedor Korshunov
						</a>
						<label for="nav-toggle" class="md:hidden"><b>Navigation</b></label>
					</div>
					<input type="checkbox" id="nav-toggle" class="hidden">
					<nav class="md:block uppercase mt-8 leading-9 text-center md:text-left">
						<ul>
							<li><a class="{{{nav_link_classes.index}}}" href="index">About</a></li>
							<li><a class="{{{nav_link_classes.now}}}"   href="now">Now</a></li>
							<li><a class="{{{nav_link_classes.work}}}"  href="work">Work</a></li>
							<li><a
								id="colorSchemeToggle"
								href="javascript:void(0);"
								onclick="setColorScheme()"
							></a></li>
						</ul>	
					</nav>
				</div>
			</div>

			<div
				id="content"
				class="
					flex flex-col
					my-8 mx-auto
					px-8
					w-full max-w-screen-md"	
			>
				{{{content}}}
			</div>
		</div>

		<footer
			class="
				dark:bg-neutral-900 dark:text-neutral-500
				     bg-neutral-200      text-neutral-500
				
				text-base
				py-8
			"
		>
			<div class="flex flex-col max-w-screen-md mx-auto items-center space-y-0.5">
				<div class="flex space-x-4">
					<a class="dark:text-neutral-500 text-neutral-500" href="https://github.com/fedor">GitHub</a>
					<a class="dark:text-neutral-500 text-neutral-500" href="https://www.linkedin.com/in/fedorhk/">LinkedIn</a>
					<span>mail@fedor.cc</span>
				</div>
				<div class="flex space-x-4 pt-4 text-sm">
					<div>Â©2024 Fedor Korshunov</div>
				</div>
			</div>
		</footer>
	</body>
	<script type="text/javascript">
		setColorScheme(localStorage.colorScheme || getPreferredColorScheme())
	</script>
</html>
